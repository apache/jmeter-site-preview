<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>KeyToolUtils (Apache JMeter dist API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="KeyToolUtils (Apache JMeter dist API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Apache JMeter</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.jorphan.exec</a></div>
<h2 title="Class KeyToolUtils" class="title">Class KeyToolUtils</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.jorphan.exec.KeyToolUtils</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">KeyToolUtils</span>
extends java.lang.Object</pre>
<div class="block">Utilities for working with Java keytool</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ROOT_CACERT_CRT_PFX">ROOT_CACERT_CRT_PFX</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#generateHostCert(java.io.File,java.lang.String,java.lang.String,int)">generateHostCert</a></span>&#8203;(java.io.File&nbsp;keystore,
                java.lang.String&nbsp;password,
                java.lang.String&nbsp;host,
                int&nbsp;validity)</code></th>
<td class="colLast">
<div class="block">Create a host certificate signed with the CA certificate.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#generateProxyCA(java.io.File,java.lang.String,int)">generateProxyCA</a></span>&#8203;(java.io.File&nbsp;keystore,
               java.lang.String&nbsp;password,
               int&nbsp;validity)</code></th>
<td class="colLast">
<div class="block">Creates a self-signed Root CA certificate and an intermediate CA certificate
 (signed by the Root CA certificate) that can be used to sign server certificates.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#genkeypair(java.io.File,java.lang.String,java.lang.String,int,java.lang.String,java.lang.String)">genkeypair</a></span>&#8203;(java.io.File&nbsp;keystore,
          java.lang.String&nbsp;alias,
          java.lang.String&nbsp;password,
          int&nbsp;validity,
          java.lang.String&nbsp;dname,
          java.lang.String&nbsp;ext)</code></th>
<td class="colLast">
<div class="block">Generate a self-signed keypair using the algorithm "RSA".</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static java.lang.String[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCAaliases()">getCAaliases</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a list of the CA aliases that should be in the keystore.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRootCAalias()">getRootCAalias</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the root CA alias; needed to check the serial number and fingerprint</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#haveKeytool()">haveKeytool</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns true if <code>KeyToolUtils#KEYTOOL_PATH</code> is configured</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#list(java.io.File,java.lang.String)">list</a></span>&#8203;(java.io.File&nbsp;keystore,
    java.lang.String&nbsp;storePass)</code></th>
<td class="colLast">
<div class="block">List the contents of a keystore</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="ROOT_CACERT_CRT_PFX">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ROOT_CACERT_CRT_PFX</h4>
<pre>public static final&nbsp;java.lang.String ROOT_CACERT_CRT_PFX</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.jorphan.exec.KeyToolUtils.ROOT_CACERT_CRT_PFX">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="genkeypair(java.io.File,java.lang.String,java.lang.String,int,java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>genkeypair</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;genkeypair&#8203;(java.io.File&nbsp;keystore,
                              java.lang.String&nbsp;alias,
                              java.lang.String&nbsp;password,
                              int&nbsp;validity,
                              java.lang.String&nbsp;dname,
                              java.lang.String&nbsp;ext)
                       throws java.io.IOException</pre>
<div class="block">Generate a self-signed keypair using the algorithm "RSA".</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keystore</code> - the keystore; if it already contains the alias the command will fail</dd>
<dd><code>alias</code> - the alias to use, not null</dd>
<dd><code>password</code> - the password to use for the store and the key</dd>
<dd><code>validity</code> - the validity period in days, greater than 0</dd>
<dd><code>dname</code> - the <em>distinguished name</em> value, if omitted use "cn=JMeter Proxy (DO NOT TRUST)"</dd>
<dd><code>ext</code> - if not null, the extension (-ext) to add (e.g. "bc:c").</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if keytool was not configured or running keytool application fails</dd>
</dl>
</li>
</ul>
<a id="generateProxyCA(java.io.File,java.lang.String,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateProxyCA</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;generateProxyCA&#8203;(java.io.File&nbsp;keystore,
                                   java.lang.String&nbsp;password,
                                   int&nbsp;validity)
                            throws java.io.IOException</pre>
<div class="block">Creates a self-signed Root CA certificate and an intermediate CA certificate
 (signed by the Root CA certificate) that can be used to sign server certificates.
 The Root CA certificate file is exported to the same directory as the keystore
 in formats suitable for Firefox/Chrome/IE (.crt) and Opera (.usr).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keystore</code> - the keystore in which to store everything</dd>
<dd><code>password</code> - the password for keystore and keys</dd>
<dd><code>validity</code> - the validity period in days, must be greater than 0</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if keytool was not configured, running keytool application failed or copying the keys failed</dd>
</dl>
</li>
</ul>
<a id="generateHostCert(java.io.File,java.lang.String,java.lang.String,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateHostCert</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;generateHostCert&#8203;(java.io.File&nbsp;keystore,
                                    java.lang.String&nbsp;password,
                                    java.lang.String&nbsp;host,
                                    int&nbsp;validity)
                             throws java.io.IOException</pre>
<div class="block">Create a host certificate signed with the CA certificate.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keystore</code> - the keystore to use</dd>
<dd><code>password</code> - the password to use for the keystore and keys</dd>
<dd><code>host</code> - the host, e.g. jmeter.apache.org or *.apache.org; also used as the alias</dd>
<dd><code>validity</code> - the validity period for the generated keypair</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if keytool was not configured or running keytool application failed</dd>
</dl>
</li>
</ul>
<a id="list(java.io.File,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>list</h4>
<pre class="methodSignature">public static&nbsp;java.lang.String&nbsp;list&#8203;(java.io.File&nbsp;keystore,
                                    java.lang.String&nbsp;storePass)
                             throws java.io.IOException</pre>
<div class="block">List the contents of a keystore</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keystore</code> - the keystore file</dd>
<dd><code>storePass</code> - the keystore password</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the output from the command "keytool -list -v"</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if keytool was not configured or running keytool application
             failed</dd>
</dl>
</li>
</ul>
<a id="getCAaliases()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCAaliases</h4>
<pre class="methodSignature">public static&nbsp;java.lang.String[]&nbsp;getCAaliases()</pre>
<div class="block">Returns a list of the CA aliases that should be in the keystore.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the aliases that are used for the keystore</dd>
</dl>
</li>
</ul>
<a id="getRootCAalias()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRootCAalias</h4>
<pre class="methodSignature">public static&nbsp;java.lang.String&nbsp;getRootCAalias()</pre>
<div class="block">Get the root CA alias; needed to check the serial number and fingerprint</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the alias</dd>
</dl>
</li>
</ul>
<a id="haveKeytool()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>haveKeytool</h4>
<pre class="methodSignature">public static&nbsp;boolean&nbsp;haveKeytool()</pre>
<div class="block">Returns true if <code>KeyToolUtils#KEYTOOL_PATH</code> is configured</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>flag whether KeyToolUtils#KEYTOOL_PATH is
         configured (is not <code>null</code>)</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Apache JMeter</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright © 1998-2022 Apache Software Foundation. All Rights Reserved.</small></p>
</footer>
</body>
</html>
